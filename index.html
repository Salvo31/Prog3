<html>
<head>
  <title> Random Workout Generator </title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="Css/timer.css">
</head>
<body>
  <!--- L'accesso all'area riservata permette di poter vedere gli allenamenti salvati --->

<script>
 window.onload = bindEvents;
 TIME_LIMIT = 0; //dichiarazione iniziale e globale della variabile

 function bindEvents(){
   document.getElementById("start").addEventListener("click",startWorkout); //richiama lo start del timer nel momento in cui clicco sul bottone
   document.getElementById("tipoAllenamento").addEventListener("change",setWorkout);
   document.getElementById("selezioneMinuti").addEventListener("change",setMinuteOnTimer);
 }

 function startWorkout(){
   for(let i = 0; i<workoutParameters.length; i++){
     workoutParameters[i].style.display = "none";
   }
   startTimer();
 }

 function setWorkout(){
   var workoutType = document.getElementById("tipoAllenamento").value;
   if(workoutType != "Random"){
     document.getElementById("pannelloWorkout").innerHTML = workoutType;
   }
   else{
     //Richiesta per workout random
     alert("Workout random");
     document.getElementById("pannelloWorkout").innerHTML = workoutType;
   }

 }

 function setMinuteOnTimer(){
   TIME_LIMIT = document.getElementById("tempo").value;
   if(TIME_LIMIT != 0){
     TIME_LIMIT = TIME_LIMIT * 60;
     document.getElementById("base-timer-label").innerHTML = formatTime(TIME_LIMIT) ;
   }
   else{
     //Inserire codice per minutaggio random/richiesta al server di calcolare con ajax
     alert("Allenamento con minuti random");
   }
 }

</script>

<button> Area riservata </button> <br> <br> <!--- Da mettere in alto a destra  --->
<div id="DescrizionewWorkout">
  <ul id="ListaAllenamenti"> <!--- Probabilmente sarà a comparsa, inquanto in questa stessa pagina ci sarà il workout --->
    <li>
        <a href="AMRAP.html"> AMRAP </a>
    </li>
    <li>
        <a href="EMOM.html"> EMOM </a>
    </li>
    <li>
        <a href="TABATA.html"> TABATA </a>
    </li>
    <li>
        <a href="FORTIME.html"> FOR TIME </a>
    </li>
    <li>
        <a href="Scheda.html"> Scheda </a>
    </li>
  </ul>
</div> <!-- Fine Div che descrive i workout (Menù a tendina) --> <br> <br>

<div id="timer">
  <div id="app"> <!-- spazio riservato al codice del timer || tenere in considerazione di spostare qui -->
      <script src="ExternalJs/timer.js"> </script>
  </div> <br> <br>
  <button id="start"> Start workout! </button> <br> <br>
</div>

<div id="pannelloWorkout"> <!-- sezione dove compariranno gli esercizi -->

</div> <br>

<div id="opzioniAllenamento"> <!-- Renderlo a scomparsa nel momento in cui inizia l'allenamento -->
  <select id="tipoAllenamento">
    <option value="Random"> Allenamento random </option>
    <option value="AMRAP"> AMRAP </option>
    <option value="EMOM"> EMOM </option>
    <option value="TABATA"> TABATA </option>
    <option value="FORTIME"> FOR TIME </option>
    <option value="SCHEDA"> Scheda </option>
  </select>
  <br> <br>
    <div id="selezioneMinuti">
      Minuti di allenamento :
      <script>
        var i=0;
        var select = document.createElement("select"); //creo un elemento select e lo salvo in una variabile
        var optionDef = document.createElement("option"); //creo un elemento option e lo salvo in una variabile
        select.id="tempo"; //Imposto l'id del tag select
        optionDef.value = 0; //Imposto l'opzione di default a random e so che vale 0
        optionDef.text = "Random";
        select.appendChild(optionDef);
        for(i;i<60;i++){
          var option = document.createElement("option"); //creo un elemento option e lo salvo in una variabile
          option.value = i+1; //imposto l'attributo value
          option.text = option.value; //imposto il testo che va dentro l'elemento option
          select.appendChild(option);
        }
        document.getElementById("selezioneMinuti").appendChild(select);
        workoutParameters = [document.getElementById("opzioniAllenamento"),document.getElementById("start")];
      </script>
    </div>
</div>

</body>
</html>
